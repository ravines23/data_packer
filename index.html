<html>
<head>
<script type="text/javascript" src="data_packer.js"></script>
<script>
async function doEncrypt() {
	var iv = document.encryption.iv.value;
	var key = document.encryption.key.value;
	var data = document.encryption.input.value;
	var result = await encrypt(iv, key, data);
	var base64ed = bufferToBase64(result);
	document.encryption.output.value = base64ed;
}

async function doDecrypt() {
	var iv = document.encryption.iv.value;
	var key = document.encryption.key.value;
	var data = document.encryption.input.value;
	var unbase64ed = base64ToBuffer(data);
	var result = await decrypt(iv, key, unbase64ed);
	document.encryption.output.value = result;
}
</script>
</head>
<body>
<form name="encryption">
IV : <input type=text name="iv" value="InitVector"><br>
KEY : <input type=text name="key" value="Secret"><br>
INPUT<br>
<textarea name=input></textarea><br>
OUTPUT<br>
<textarea name=output></textarea><br>
<input type=button onclick="doEncrypt()" value="Encrypt">
<input type=button onclick="doDecrypt()" value="Decrypt">
</form>
</body>
</html>
